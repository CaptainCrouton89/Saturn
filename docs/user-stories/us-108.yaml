---
title: Cosmo References Past Conversations
story_id: US-108
feature_id: F-03, F-04
flow_ids: ["therapy-chat-flow", "entertaining-chat-flow"]
status: incomplete

user_story:
  as_a: "someone with ongoing thoughts across multiple conversations"
  i_want: "Cosmo to remember and reference relevant past conversations"
  so_that: "I feel truly known and don't have to re-explain context"

acceptance_criteria:
  - "[ ] Given I mention a recurring topic, when Cosmo responds, then it acknowledges I've mentioned it before"
  - "[ ] Given I talked about something in the past, when it's relevant now, then Cosmo brings it up naturally"
  - "[ ] Given Cosmo references a past conversation, when it does, then the reference is accurate and adds context"
  - "[ ] Given I want more context, when I ask 'what did I say before?', then Cosmo pulls relevant excerpts"

context:
  why: "Feeling known and remembered is critical to bonding. RAG-enabled memory is essential."
  related: "F-04: Conversation Memory & RAG"

technical_notes:
  apis: ["GET /conversations/{id}/relevant-past", "POST /conversations/search"]
  data_structures: ["Conversation", "Message", "ConversationContext"]
  data_events: ["past_conversation_referenced", "past_context_retrieved"]
  feature_flags: ["memory_enabled", "rag_enabled"]
  dependencies: ["RAG system", "Vector database for conversation embeddings"]

